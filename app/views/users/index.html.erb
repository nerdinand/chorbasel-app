<% content_for :title, t('.title') %>

<% if policy(User).new? %>
  <%= link_to t('.new'), new_user_path, class: 'btn btn-primary' %>
<% end %>

<table>
  <thead>
    <tr>
      <th><%= t('.profile_complete') %></th>
      <th><%= t('.name') %></th>
      <th><%= t('.email') %></th>
      <th><%= t('.roles') %></th>
      <th><%= t('.status') %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td>
          <%= boolean_emoji(user.profile_complete?) %>
        </td>
        <td>
          <%= user.full_name %>
        </td>
        <td>
          <%= user.email %>
        </td>
        <td>
          <ul>
            <% user.roles_wrapper.roles.each do |role| %>
              <li><%= role.human_name %></li>
            <% end %>
          </ul>
        </td>
        <td>
          <%= user.human_status %>
        </td>
        <td>
          <% if policy(user).edit? %>
            <%= link_to t('.edit'), edit_user_path(user), class: 'btn btn-primary' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
